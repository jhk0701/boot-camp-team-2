# 젤리팡

## 🎤프로젝트 소개
공을 튕겨 말랑한 젤리들을 깨뜨리자!<br>
패들을 조작하여 통통 튀어오르는 공을 튕겨내서 젤리를 깨는 게임입니다.<br>

* 고전게임 재해석 프로젝트 : 벽돌 깨기<br>

## 👨‍👨‍👦멤버 소개
* 팀장 : 이해용
* 팀원 : 박찬형
* 팀원 : 김정환
* 팀원 : 이지혜
* 팀원 : 박기도

## 개발기간
2024.10.15 ~ 2024.10.22

## 주요기능
> ## 다양한 젤리
> 일반 젤리 외에도 게임의 난이도를 위한 3가지 방해 젤리가 있습니다.
> ### 부서지지 않는 젤리
> <img width = 200px src="https://github.com/user-attachments/assets/068060a8-1baa-4a96-858c-cbb537c3d127">
>
> * 공에 부딪혀도 부서지지 않습니다.
> * 부서지지 않는 젤리 사이에 배치된 일반 젤리를 보호하는 장애물로 만들었습니다.
> ### 밀리는 젤리
> <img width = 200px src="https://github.com/user-attachments/assets/06fe3dec-cab7-4c59-95e1-d0042b0fa323">
>
> * 공에 부딪히면 밀리는 젤리입니다.
> * 한 번에 부서지지 않고 공의 진로를 역동적으로 방해하는 장애물입니다.
> ### 톡 치면 커지는 젤리
> <img width = 200px src="https://github.com/user-attachments/assets/6a784e42-2b8a-43fb-90a2-9284ef35974b">
> 
> * 공에 부딪히면 커지는 젤리입니다.
> * 밀리는 젤리의 진화 버전으로 밀리는 효과와 커지는 효과를 가진 장애물입니다.

> ## 아이템
> 젤리를 깨면 랜덤하게 여러 아이템이 나타납니다.<br>
> 패들로 떨어지는 아이템을 먹으면 종류에 따라 보조 효과을 얻을 수 있습니다.<br>
> ### 목숨 회복
> <img width=100px src="https://github.com/user-attachments/assets/11ff7334-4a32-42ec-a563-25cc5d912ccf">
>
> 초록색 아이템은 목숨을 1 회복시켜 줍니다.
> ### 공의 공격력 증가
> <img width=100px src="https://github.com/user-attachments/assets/48787208-242f-4194-a086-93948e125271">
> 
> 10초간 공의 공격력을 5 상승시킵니다.<br>
> 중복 획득 시, 지속 시간이 추가됩니다.
> ### 패들의 속도 증가
> <img width=100px src="https://github.com/user-attachments/assets/b515c53c-4947-4dd0-b36f-f13db5af7c11">
> 
> 10초간 패들의 속도를 50% 상승시킵니다.<br>
> 중복 획득 시, 지속 시간이 추가됩니다.
> ### 패들의 길이 증가
> <img width=100px src="https://github.com/user-attachments/assets/5d1c699a-bb5e-400a-816a-5fdd16c6d03c">
>
> 10초간 패들의 길이를 50% 증가시킵니다.<br>
> 중복 획득 시, 지속 시간이 추가됩니다.
> ### 시간 감속
> <img width=100px src="https://github.com/user-attachments/assets/cd3eb1fc-f3e5-44d6-97e3-f8a1b5e0518e">
> 
> 10초간 패들을 제외한 다른 오브젝트들의 시간이 50% 느리게 흐릅니다.<br>
> 중복 획득 시, 지속 시간이 추가됩니다.

> ## 다중 플레이어 모드
> 로컬에서 최대 2명이서 게임을 즐길 수 있습니다.<br><br>
> <img width=200px src="https://github.com/user-attachments/assets/169ce717-8bb8-47e4-b853-5607fbdc1e22"><br>
> <img width=200px src="https://github.com/user-attachments/assets/9b271325-3e32-41a9-9f5f-58a4fdbce0ed">
>
> 시작화면에서 모드를 선택하고 플레이하고자 하는 스테이지를 골라 플레이할 수 있습니다.
> ### 조작키 구분 : 키보드
> * 플레이어 1 : A키 - 왼쪽, D키 - 오른쪽
> * 플레이어 2 : 왼쪽 화살표키 - 왼쪽, 오른쪽 화살표키 - 오른쪽

> ## 스테이지 별 스코어 저장
> 플레이를 완료하면 스테이지별로 최고 점수를 저장합니다.<br><br>
> <img width=200px src="https://github.com/user-attachments/assets/43f16f14-a3d1-4d7f-8d56-411fcd5427af">
> 
> 시작화면에서 Score 버튼을 누르면 스테이지 목록이 나오고<br>
> 점수를 확인하고자하는 스테이지를 누르면 점수가 출력됩니다.

## 트러블슈팅
트러블슈팅은 대체로 공과 젤리의 상호작용에서 발생했습니다.
> ## 문제 1
> 첫번째 문제 현상은 개발 초기에 나타났습니다.<br>
> <img width=200px src="https://github.com/user-attachments/assets/8de9d6c1-813a-491a-af0f-4644d12d67a4"><br>
> 위 영상에서 보듯 연속된 벽돌의 모서리쯤에서 공과 충돌하면<br>
> 공이 다른 벽돌을 뚫으며 튕기는 현상이 있었습니다.
> ### 원인
> 공이 튕기는 방법을 다음과 같이 코딩을 구현했습니다.<br>
> <img src="https://github.com/user-attachments/assets/5f210294-5015-4d2a-9406-e967e4e689a9"><br><br>
> 공이 벽돌과 부딪히면 현재 속도의 y 방향을 반대로 바꿔줍니다.<br><br>
> 패들에서 공을 튕겨내는 방법과 동일하게 만들었는데<br>
> 패들은 연속적인 충돌이 없어 위와 같은 문제가 발생하지 않았습니다.<br><br>
> 하지만 벽돌은 연속적으로 배치된 경우가 많았고<br>
> 특히 두 벽돌이 붙어있는 모서리에서 공이 충돌하면 공의 y축 방향이 연속해서 반전되며 튕겨오지 않는 문제가 발생했습니다.
> ### 해결 방안
> 이 문제를 해결하기 위해서 콜라이더에 쿨타임 구현 등 여러 생각을 해봤지만<br>
> 가장 좋은 방안은 공을 튕기는 새로운 방식을 찾는 것이었습니다.<br>
> 공을 튕기게하는 방법을 직접 구현하지 말고 유니티의 물리 연산에 맡기도록 했습니다.<br>
> <img src="https://github.com/user-attachments/assets/719ef8bb-537b-4039-a205-76522a706686"><br><br>
> 위와 같이 공의 Collider에 Physics Material 2D를 적용하여<br>
> 원래 의도한 정상적인 움직임을 구현할 수 있었습니다.
> ## 문제 2
> 문제 1이 유니티의 물리 연산을 이용해서 해결할 수 있었다면<br>
> 이번 문제는 오히려 유니티의 물리 연산으로 인해 일어난 문제였습니다.<br>
> 밀리는 젤리의 테스트를 진행하던 중 다음과 같은 현상이 발생했습니다.<br>
> <img width=200px src="https://github.com/user-attachments/assets/b8ec0b4c-2e69-4fda-8657-e28e99e5d0ed"><br>
> 위 영상과 같이 공이 젤리와 충돌 후 정상적으로 튕기지 않고 속도를 잃는 모습을 보였습니다.<br><br>
> 원래는 젤리가 고정된 상태기 때문에 충돌 후 물리 연산에 따라서 반사각으로 튕겨 나오지만<br>
> 밀리는 젤리가 충돌 후 움직이면서 공에 일어나는 반작용이 약해진 것입니다.
>
> ### 해결 방안
> 물리 부분에서 일어난 현상이니 물리와 관련된 컴포넌트로 제어해보려고 했지만<br>
> 속도의 감속이 완화되는 정도에서 그쳤습니다.<br><br>
> 물리 관련 컴포넌트로 해결할 수 없으니 가장 확실한 방법으로<br>
> 밀리는 젤리와 충돌 시 도로 튕겨나가는 기능을 직접 구현했습니다.
> 

## 기타
* Unity 2022.03.17f